const BaseIntentHandler = require('./BaseIntentHandler');const ResponseHandler = require('../ResponseHandler');const Utils = require('../Utils');class DefaultIntentHandler extends BaseIntentHandler {    canHandle() {        return true;    }    async handle({ intent, aiResponse, branchId, entities }) {        const normalized = Utils.normalizeEntityFields(entities || {});        if (aiResponse?.response) {            return this.buildResponse({                intent: aiResponse.intent || intent || 'general',                response: aiResponse.response,                entities: normalized,                suggestions: aiResponse.suggestions,                action: aiResponse.action,                action_data: aiResponse.action_data,                type: aiResponse.type || 'text',            });        }        const fallbackSuggestions = await ResponseHandler.getSuggestions(intent || 'general', branchId);        return this.buildResponse({            intent: intent || 'general',            response: 'Tôi chưa chắc chắn về yêu cầu của bạn. Bạn có thể diễn đạt cụ thể hơn hoặc chọn một gợi ý bên dưới nhé.',            entities: normalized,            suggestions: fallbackSuggestions,        });    }}module.exports = DefaultIntentHandler;